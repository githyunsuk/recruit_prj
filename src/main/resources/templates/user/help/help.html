<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>민기 인력 - 고객센터</title>
    <th:block th:replace="~{fragments/external_file :: cdn_block}"></th:block>
    <link rel="stylesheet" th:href="@{/user/css/header.css}" />
    <link rel="stylesheet" th:href="@{/user/css/footer.css}" />
    <link rel="stylesheet" th:href="@{/user/help/help.css}"/>
    <style type="text/css">
    </style>
</head>
<body>
    <header>
        <div th:replace="~{fragments/header :: header}"></div>
    </header>
    
    <main>
        <div class="container">
            <!-- Main Content -->
            <div class="main-content">
                <div class="page-title">
                    고객센터
                    <div class="help-icon">?</div>
                </div>

                <!-- Tab Navigation -->
                <div class="tab-nav">
                    <button class="tab-button active" onclick="switchTab('user')">사용자 고객센터</button>
                    <button class="tab-button" onclick="switchTab('company')">기업 고객센터</button>
                </div>

                <!-- User Tab Content -->
                <div id="user-tab" class="tab-content active">
                    <!-- Notice Section -->
                    <div class="notice-section">
                        <div class="notice-item">
                            6월 24일, 잡핏과 사람인의 기업서비스가 통합됩니다.
                        </div>
                        <div class="notice-item">
                            개인정보 처리방침 개정에 대해 안내드립니다. <span class="notice-date">(20250529)</span>
                        </div>
                        <div class="notice-item">
                            지원서 업로드가 및 지원내역 설정 변경에 대해 안내드립니다. <span class="notice-date">(20250520)</span>
                        </div>
                    </div>

                    <!-- FAQ Section -->
                    <div class="faq-section">
                        <div class="faq-title">자주 묻는 질문<strong>(사용자)</strong></div>
                        
                        <div class="faq-category">
                            <div class="faq-category-header" onclick="toggleFAQ('general')">
                                <div class="faq-category-title">
                                    <span class="category-general">일반</span>
                                    <span class="faq-category-count">3</span>
                                </div>
                                <div class="faq-arrow">▶</div>
                            </div>
                            <div class="faq-items" id="general-items">
                                <div class="faq-item">
                                    <div class="faq-question">Q. 회원가입은 어떻게 하나요?</div>
                                    <div class="faq-answer">A. 홈페이지 우측 상단의 '회원가입' 버튼을 클릭하여 가입할 수 있습니다.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 비밀번호를 잊어버렸어요.</div>
                                    <div class="faq-answer">A. 로그인 페이지에서 '비밀번호 찾기'를 클릭하여 재설정할 수 있습니다.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 회원 탈퇴는 어떻게 하나요?</div>
                                    <div class="faq-answer">A. 마이페이지 > 회원정보 수정 > 회원탈퇴에서 진행할 수 있습니다.</div>
                                </div>
                            </div>
                        </div>

                        <div class="faq-category">
                            <div class="faq-category-header" onclick="toggleFAQ('tech')">
                                <div class="faq-category-title">
                                    <span class="category-tech">기술문의</span>
                                    <span class="faq-category-count">3</span>
                                </div>
                                <div class="faq-arrow">▶</div>
                            </div>
                            <div class="faq-items" id="tech-items">
                                <div class="faq-item">
                                    <div class="faq-question">Q. 이력서 업로드가 안되요.</div>
                                    <div class="faq-answer">A. 파일 형식이 PDF, DOC, DOCX인지 확인하고, 파일 크기가 10MB 이하인지 확인해주세요.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 사이트가 느려요.</div>
                                    <div class="faq-answer">A. 브라우저 캐시를 삭제하거나 다른 브라우저를 사용해보세요.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 모바일에서 사용할 수 있나요?</div>
                                    <div class="faq-answer">A. 네, 모바일 웹과 앱 모두 지원합니다.</div>
                                </div>
                            </div>
                        </div>

                        <div class="faq-category">
                            <div class="faq-category-header" onclick="toggleFAQ('recruitment')">
                                <div class="faq-category-title">
                                    <span class="category-recruitment">구직</span>
                                    <span class="faq-category-count">3</span>
                                </div>
                                <div class="faq-arrow">▶</div>
                            </div>
                            <div class="faq-items" id="recruitment-items">
                                <div class="faq-item">
                                    <div class="faq-question">Q. 지원 현황을 어떻게 확인하나요?</div>
                                    <div class="faq-answer">A. 마이페이지 > 지원현황에서 확인할 수 있습니다.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 채용공고는 어떻게 검색하나요?</div>
                                    <div class="faq-answer">A. 검색창에 키워드를 입력하거나 필터를 사용하여 원하는 조건으로 검색할 수 있습니다.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 스크랩한 공고는 어디서 볼 수 있나요?</div>
                                    <div class="faq-answer">A. 마이페이지 > 스크랩한 공고에서 확인할 수 있습니다.</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Section -->
                    <div class="contact-section">
                        <div class="contact-title">다른 질문이 있으신가요?</div>
                        <button class="contact-button" onclick="openContact()">문의하기</button>
                    </div>
                </div>

                <!-- Company Tab Content -->
                <div id="company-tab" class="tab-content">
                    <!-- Notice Section -->
                    <div class="notice-section">
                        <div class="notice-item">
                            7월 1일, 기업 서비스 개편에 대해 안내드립니다.
                        </div>
                        <div class="notice-item">
                            채용공고 작성 가이드라인이 업데이트되었습니다. <span class="notice-date">(20250625)</span>
                        </div>
                        <div class="notice-item">
                            기업 인증 절차 변경에 대해 안내드립니다. <span class="notice-date">(20250620)</span>
                        </div>
                    </div>

                    <!-- FAQ Section -->
                    <div class="faq-section">
                        <div class="faq-title">자주 묻는 질문<strong>(기업)</strong></div>
                        
                        <div class="faq-category">
                            <div class="faq-category-header" onclick="toggleFAQ('company-general')">
                                <div class="faq-category-title">
                                    <span class="category-general">일반</span>
                                    <span class="faq-category-count">3</span>
                                </div>
                                <div class="faq-arrow">▶</div>
                            </div>
                            <div class="faq-items" id="company-general-items">
                                <div class="faq-item">
                                    <div class="faq-question">Q. 기업회원 가입은 어떻게 하나요?</div>
                                    <div class="faq-answer">A. 기업 서비스 페이지에서 사업자등록번호를 통해 가입할 수 있습니다.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 기업 인증은 얼마나 걸리나요?</div>
                                    <div class="faq-answer">A. 일반적으로 1-2 영업일 소요됩니다.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 기업정보 수정은 어떻게 하나요?</div>
                                    <div class="faq-answer">A. 기업관리 페이지에서 기업정보를 수정할 수 있습니다.</div>
                                </div>
                            </div>
                        </div>

                        <div class="faq-category">
                            <div class="faq-category-header" onclick="toggleFAQ('company-service')">
                                <div class="faq-category-title">
                                    <span class="category-service">서비스문의</span>
                                    <span class="faq-category-count">3</span>
                                </div>
                                <div class="faq-arrow">▶</div>
                            </div>
                            <div class="faq-items" id="company-service-items">
                                <div class="faq-item">
                                    <div class="faq-question">Q. 채용공고는 어떻게 등록하나요?</div>
                                    <div class="faq-answer">A. 기업관리 페이지에서 '채용공고 등록' 버튼을 클릭하여 등록할 수 있습니다.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 지원자 관리는 어떻게 하나요?</div>
                                    <div class="faq-answer">A. 채용관리 페이지에서 지원자 현황을 확인하고 관리할 수 있습니다.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 공고 노출 기간은 얼마나 되나요?</div>
                                    <div class="faq-answer">A. 기본 30일이며, 연장할 수 있습니다.</div>
                                </div>
                            </div>
                        </div>

                        <div class="faq-category">
                            <div class="faq-category-header" onclick="toggleFAQ('company-payment')">
                                <div class="faq-category-title">
                                    <span class="category-payment">결제</span>
                                    <span class="faq-category-count">3</span>
                                </div>
                                <div class="faq-arrow">▶</div>
                            </div>
                            <div class="faq-items" id="company-payment-items">
                                <div class="faq-item">
                                    <div class="faq-question">Q. 결제 방법은 무엇이 있나요?</div>
                                    <div class="faq-answer">A. 신용카드, 계좌이체, 가상계좌를 지원합니다.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 세금계산서 발행이 가능한가요?</div>
                                    <div class="faq-answer">A. 네, 결제 완료 후 세금계산서를 발행할 수 있습니다.</div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">Q. 환불 정책은 어떻게 되나요?</div>
                                    <div class="faq-answer">A. 서비스 이용 전 100% 환불, 이용 후에는 정책에 따라 부분 환불 가능합니다.</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Section -->
                    <div class="contact-section">
                        <div class="contact-title">다른 질문이 있으신가요?</div>
                        <button class="contact-button" onclick="openContact()">문의하기</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 문의하기 모달 -->
    <div id="inquiryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">문의하기</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="inquiryForm" class="inquiry-form">
                    <div class="form-group">
                        <label for="inquiryType">문의 유형 <span class="required">*</span></label>
                        <select id="inquiryType" name="inquiryType" required>
                            <option value="">문의 유형을 선택해주세요</option>
                            <option value="general">일반 문의</option>
                            <option value="technical">기술 문의</option>
                            <option value="account">계정 문의</option>
                            <option value="recruitment">구직 관련</option>
                            <option value="company">기업 서비스</option>
                            <option value="payment">결제 관련</option>
                            <option value="other">기타</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="userName">이름 <span class="required">*</span></label>
                        <input type="text" id="userName" name="userName" required placeholder="이름을 입력해주세요">
                    </div>

                    <div class="form-group">
                        <label for="userEmail">이메일 <span class="required">*</span></label>
                        <input type="email" id="userEmail" name="userEmail" required placeholder="이메일을 입력해주세요">
                    </div>

                    <div class="form-group">
                        <label for="userPhone">연락처</label>
                        <input type="tel" id="userPhone" name="userPhone" placeholder="연락처를 입력해주세요">
                    </div>

                    <div class="form-group">
                        <label for="inquiryTitle">제목 <span class="required">*</span></label>
                        <input type="text" id="inquiryTitle" name="inquiryTitle" required placeholder="문의 제목을 입력해주세요">
                    </div>

                    <div class="form-group">
                        <label for="inquiryContent">문의 내용 <span class="required">*</span></label>
                        <textarea id="inquiryContent" name="inquiryContent" required placeholder="문의 내용을 자세히 작성해주세요" maxlength="1000" oninput="updateCharCount()"></textarea>
                        <div class="character-count">
                            <span id="charCount">0</span>/1000
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="attachFile">첨부파일</label>
                        <input type="file" id="attachFile" name="attachFile" accept=".jpg,.jpeg,.png,.pdf,.doc,.docx">
                        <div class="attachment-info">
                            ※ 파일 형식: jpg, jpeg, png, pdf, doc, docx (최대 10MB)
                        </div>
                    </div>

                    <div class="form-buttons">
                        <button type="button" class="btn btn-secondary" onclick="closeModal()">취소</button>
                        <button type="submit" class="btn btn-primary">문의하기</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <footer>
        <div th:replace="~{fragments/footer :: footer}"></div>
    </footer>

    <script type="text/javascript">
        // Tab switching functionality
        function switchTab(tab) {
            // Remove active class from all tabs
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // Add active class to selected tab
            event.target.classList.add('active');
            document.getElementById(tab + '-tab').classList.add('active');
        }

        // FAQ toggle functionality
        function toggleFAQ(category) {
            const header = event.target.closest('.faq-category-header');
            const items = document.getElementById(category + '-items');
            
            // Toggle active state
            header.classList.toggle('active');
            items.classList.toggle('active');
        }

        // Contact modal functionality
        function openContact() {
            document.getElementById('inquiryModal').style.display = 'block';
            document.body.style.overflow = 'hidden'; // 배경 스크롤 방지
        }

        function closeModal() {
            document.getElementById('inquiryModal').style.display = 'none';
            document.body.style.overflow = 'auto'; // 배경 스크롤 복구
            document.getElementById('inquiryForm').reset(); // 폼 리셋
            document.getElementById('charCount').textContent = '0'; // 글자 수 리셋
        }

        // 모달 외부 클릭 시 닫기
        window.onclick = function(event) {
            const modal = document.getElementById('inquiryModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // 글자 수 카운트 업데이트
        function updateCharCount() {
            const textarea = document.getElementById('inquiryContent');
            const charCount = document.getElementById('charCount');
            charCount.textContent = textarea.value.length;
        }

        // 폼 제출 처리
        document.getElementById('inquiryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // 폼 데이터 수집
            const formData = new FormData(this);
            const inquiryData = {
                type: formData.get('inquiryType'),
                name: formData.get('userName'),
                email: formData.get('userEmail'),
                phone: formData.get('userPhone'),
                title: formData.get('inquiryTitle'),
                content: formData.get('inquiryContent'),
                file: formData.get('attachFile')
            };

            // 여기에 서버로 데이터를 전송하는 코드를 추가할 수 있습니다
            console.log('문의 데이터:', inquiryData);
            
            // 성공 메시지 표시
            alert('문의가 성공적으로 접수되었습니다.\n빠른 시일 내에 답변드리겠습니다.');
            
            // 모달 닫기
            closeModal();
        });

        // 파일 크기 검증
        document.getElementById('attachFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const maxSize = 10 * 1024 * 1024; // 10MB
                if (file.size > maxSize) {
                    alert('파일 크기는 10MB를 초과할 수 없습니다.');
                    e.target.value = '';
                }
            }
        });
    </script>
</body>
</html>