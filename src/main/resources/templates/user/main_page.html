<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>민기 인력</title>
<th:block th:replace="~{fragments/external_file :: cdn_block}"></th:block>
<link rel="stylesheet" th:href="@{/user/css/header.css}" />
<link rel="stylesheet" th:href="@{/user/css/footer.css}" />
<link rel="stylesheet" th:href="@{/user/jobPosting/css/main_page.css}"/>
<style type="text/css">
</style>   
<script type="text/javascript">

let current = 0;
const total = 4; 

function moveSlide(direction) {    
    current += direction;
    if (current >= total) current = 0;
    if (current < 0) current = total - 1;
    updateSlide();
}

function updateSlide() {
    const track = document.querySelector('.header-carousel-track');
    track.style.transform = `translateX(-${current * 100}%)`;
}

document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('prevBtn').addEventListener('click', function() {
        moveSlide(-1);
    });
    
    document.getElementById('nextBtn').addEventListener('click', function() {
        moveSlide(1);
    });
});

setInterval(() => moveSlide(1), 5000);

</script>
</head>
<body>
<header>
<div th:replace="~{fragments/header :: header}"></div>
</header>
<main>
<div class="main-container">
		<!-- 히어로 섹션 -->
	<section class="hero-section">
		<h1 class="hero-title">개발자 커리어의 시작</h1>
		<p class="hero-subtitle">전국 최고의 IT 기업들이 당신을 기다리고 있습니다</p>
		<div class="hero-search">
			<input type="text" class="hero-search-box"
				placeholder="어떤 포지션을 찾고 계신가요?" />
			<button class="hero-search-button">🔍</button>
		</div>
	</section>
	
<!-- 오른쪽 헤더부분 : 채용공고 + 공지 -->
<div class="side-by-side-section">
  <div class="header-section">
    <!-- Carousel Container -->
    <div class="header-carousel-container">
      <div class="header-carousel-track">
        <!-- 첫번째 공고 -->
        <div class="main-img">
          <img alt="삼성전자" src="/images/samsung.jpg" />
          <div class="main-content">
            <h2>삼성전자</h2>
            <p>전산팀 서버 개발자 모집</p>
        </div>
        </div>	
        <!-- 두번째 공고 -->
        <div class="main-img">
          <img alt="LG전자" src="/images/Lg.jpg" />
          <div class="main-content">
            <h2>LG전자</h2>
            <p>웹 프론트엔드 개발자</p>
          </div>
        </div>

        <!-- 세번째 공고 -->
        <div class="main-img">
          <img alt="네이버" src="/images/naver.jpg" />
          <div class="main-content">
            <h2>네이버</h2>
            <p>백엔드 개발자 채용</p>
          </div>
        </div>

        <!-- 네번째 공고 -->
        <div class="main-img">
          <img alt="카카오" src="/images/kakao.jpg" />
          <div class="main-content">
            <h2>카카오</h2>
            <p>모바일 앱 개발자</p>
          </div>
        </div>
      </div>

      <!-- 좌우 버튼 -->
      <button class="header-carousel-btn prev" id="prevBtn">‹</button>
      <button class="header-carousel-btn next" id="nextBtn">›</button>
 
    </div>
</div>





  <div class="notice-wrapper">
  
   <div class="user-info-box">
        <div class="user-header">
            <div class="user-text">
                <p class="user-welcome" th:text>유연수님 반가워요</p>
                <p class="user-email">yeonsu@naver.com</p>
            </div>
            <div class="notification-bell" onclick="toggleNotifications()">
                <svg class="bell-icon" viewBox="0 0 24 24">
                    <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
                </svg>
                <div class="notification-badge">3</div>
            </div>
        </div>
        
        <div class="user-buttons">
            <button onclick="goToResume()">이력서작성</button>
            <button onclick="goToMyPage()">마이페이지</button>
        </div>
    </div>

    <!-- 알림 드롭다운을 박스 외부로 이동 -->
    <div class="notification-dropdown" id="notificationDropdown">
        <div class="notification-header">알림</div>
        <div class="notification-item" onclick="readNotification(this)">
            <div class="notification-title">
                <span class="notification-dot"></span>
                새로운 채용공고가 등록되었습니다
            </div>
            <div class="notification-time">5분 전</div>
        </div>
        <div class="notification-item" onclick="readNotification(this)">
            <div class="notification-title">
                <span class="notification-dot"></span>
                이력서 검토가 완료되었습니다
            </div>
            <div class="notification-time">1시간 전</div>
        </div>
        <div class="notification-item" onclick="readNotification(this)">
            <div class="notification-title">
                <span class="notification-dot"></span>
                면접 일정이 확정되었습니다
            </div>
            <div class="notification-time">2시간 전</div>
        </div>
    </div>

  <h2 style="color: #1DD45A;">Notice</h2>
  <div class="notice-info">
    <h5 style="font-size: 13px">[공지] 이력서 스터디 있음</h5>
    <h5 style="font-size: 13px">[공지] 2025 상반기 채용</h5>
  </div>
</div>
  </div>
	<br><br>
	
	<!--  공고( 인기순 ) -->
	<div class="announcement-section">
  <h3>인기순</h3>
  <br>
  <div class="announcement-list">
    <div class="announcement-card">
      <div class="image-wrapper">
        <img src="/images/samsung.jpg" alt="회사 이미지" />
      </div>

      <div class="company-name">삼성전자</div>
      <div class="announcement-title"><strong>전산팀 (서버/ERP/개발) 경력직 채용</strong></div>
      <div class="stack-name">Java | JavaScript | Spring | Mybatis</div>
      <div class="company-info">
        <span>서울 마포구</span> | <span>경력 3년</span>
      </div>
    </div>
    
    <!-- 두번째 공고 -->
     <div class="announcement-list">
    <div class="announcement-card">
      <div class="image-wrapper">
        <img src="/images/Lg.jpg" alt="회사 이미지" />
      </div>

      <div class="company-name">LG전자</div>
      <div class="announcement-title"><strong>웹 프론트엔드 개발자</strong></div>
      <div class="stack-name">Java | JavaScript | Spring | Mybatis</div>
      <div class="company-info">
        <span>서울 마포구</span> | <span>경력 3년</span>
      </div>
    </div>
    
        
    <!-- 세번째 공고 -->
     <div class="announcement-list">
    <div class="announcement-card">
      <div class="image-wrapper">
        <img src="/images/naver.jpg" alt="회사 이미지" />
      </div>

      <div class="company-name">네이버</div>
      <div class="announcement-title"><strong>백엔드 개발자 채용</strong></div>
      <div class="stack-name">Java | JavaScript | Spring | Mybatis</div>
      <div class="company-info">
        <span>서울 마포구</span> | <span>경력 3년</span>
      </div>
    </div>
    
        
    <!-- 네번째 공고 -->
     <div class="announcement-list">
    <div class="announcement-card">
      <div class="image-wrapper">
        <img src="/images/kakao.jpg" alt="회사 이미지" />
      </div>

      <div class="company-name">카카오</div>
      <div class="announcement-title"><strong>모바일 앱 개발자</strong></div>
      <div class="stack-name">Java | JavaScript | Spring | Mybatis</div>
      <div class="company-info">
        <span>서울 마포구</span> | <span>경력 3년</span>
      </div>
    </div>
    </div>
    </div>
    </div>

  </div>
</div>
	

</div>
<script type="text/javascript">

function toggleNotifications() {
    const dropdown = document.getElementById('notificationDropdown');
    const bell = document.querySelector('.notification-bell');
    const userBox = document.querySelector('.user-info-box');
    
    if (dropdown.classList.contains('active')) {
        dropdown.classList.remove('active');
    } else {
        // 종 버튼 위치 계산
        const bellRect = bell.getBoundingClientRect();
        const userBoxRect = userBox.getBoundingClientRect();
        
        // 드롭다운 위치 설정
        dropdown.style.position = 'fixed';
        dropdown.style.top = (bellRect.bottom + 4) + 'px';
        dropdown.style.right = (window.innerWidth - bellRect.right) + 'px';
        dropdown.style.left = 'auto';
        
        dropdown.classList.add('active');
    }
}

function readNotification(item) {
    // 읽음 표시 (점 제거)
    const dot = item.querySelector('.notification-dot');
    if (dot) {
        dot.style.display = 'none';
    }
    
    // 배지 숫자 감소
    const badge = document.querySelector('.notification-badge');
    let count = parseInt(badge.textContent);
    if (count > 0) {
        count--;
        badge.textContent = count;
        if (count === 0) {
            badge.style.display = 'none';
        }
    }
    
    console.log('알림 읽음:', item.querySelector('.notification-title').textContent.trim());
}

function goToResume() {
    alert('이력서 작성 페이지로 이동합니다.');
}

function goToMyPage() {
    alert('마이페이지로 이동합니다.');
}

// 외부 클릭 시 드롭다운 닫기
document.addEventListener('click', function(event) {
    const bell = document.querySelector('.notification-bell');
    const dropdown = document.getElementById('notificationDropdown');
    
    if (!bell.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.classList.remove('active');
    }
});

// 윈도우 리사이즈 시 드롭다운 위치 재조정
window.addEventListener('resize', function() {
    const dropdown = document.getElementById('notificationDropdown');
    if (dropdown.classList.contains('active')) {
        dropdown.classList.remove('active');
    }
});
</script>
</main>
<footer>
<div th:replace="~{fragments/footer :: footer}"></div>
</footer>
</body>
</html>

