<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>마이페이지</title>
<th:block th:replace="~{fragments/external_file :: cdn_block}"></th:block>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" th:href="@{/user/mypage/css/sidebar.css}">
<link rel="stylesheet" th:href="@{/user/mypage/css/mail_list.css}">
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script th:src="@{/user/mypage/js/mail_list.js}"></script>
</head>
<body>
	<header>
		<div th:replace="~{fragments/header :: header}"></div>
	</header>
	<main>
		<div class="container">
			<div th:replace="~{user/mypage/sidebar :: sidebar}"></div>
			<div class="main-content">
				<div id="content-area">
					<div class="page-title">메일 목록</div>
					<div class="stats-grid">
						<div class="stats-item">
							<div class="stats-label">전체 메일</div>
							<div class="stats-number" id="total-count" th:text="${statistics.total}">7</div>
						</div>
						<div class="stats-item">
							<div class="stats-label">안읽은 메일</div>
							<div class="stats-number" id="unread-count" th:text="${statistics.unread}">5</div>
						</div>
						<div class="stats-item">
							<div class="stats-label">읽은 메일</div>
							<div class="stats-number" id="read-count" th:text="${statistics.read}">2</div>
						</div>
						<div class="stats-item">
							<div class="stats-label">포지션 제안</div>
							<div class="stats-number" th:text="${statistics.position}">2</div>
						</div>
					</div>
					<div class="filter-buttons">
						<div class="filter-checkbox">
							<input type="checkbox" id="exclude-canceled"> <label
								for="exclude-canceled">열람 제외</label>
						</div>
						<div class="filter-select">
							<select>
								<option>지난 1개월</option>
								<option>지난 6개월</option>
								<option>지난 1년</option>
								<option>전체</option>
							</select>
						</div>
						<div class="filter-select">
							<select>
								<option>전체</option>
								<option>공지/알림</option>
								<option>지원 결과</option>
								<option>포지션 제안</option>
							</select>
						</div>
					</div>

					<!-- 메일 목록 -->
					<div class="application-list">
						<th:block th:each="message : ${messages}">
							<div class="application-item" th:classappend="${message.isRead=='Y'}?' read-mail'"
								th:data-messageSeq="${message.messageSeq}"
								th:data-content="${message.messageContent}">
								<div class="application-info">
									<div class="company-name" th:text="${message.corpNm}"></div>
									<div class="job-title" th:text="${message.messageTitle}"></div>
									<div class="application-meta" th:text="${message.createdAt}"></div>
								</div>
							</div>
						</th:block>
					</div>

						<!-- 페이지네이션 -->
						<div class="pagination-container">
							<div class="pagination">
								<button class="page-btn disabled">
									<i class="fas fa-chevron-left"></i>
								</button>
								<button class="page-btn active">1</button>
								<button class="page-btn">2</button>
								<button class="page-btn">3</button>
								<button class="page-btn">4</button>
								<button class="page-btn">5</button>
								<button class="page-btn">6</button>
								<button class="page-btn">
									<i class="fas fa-chevron-right"></i>
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
	</main>
	<footer>
		<div th:replace="~{fragments/footer :: footer}"></div>
	</footer>

	<!-- 메일 상세 모달 -->
	<div class="modal" id="mailModal" style="display: none;">
		<div class="modal-overlay"></div>
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="modalTitle">메일 제목</h5>
				<button class="modal-close">&times;</button>
			</div>
			<div class="modal-body">
				<p class="modal-company" id="modalCompany">회사명</p>
				<p class="modal-date" id="modalDate">날짜</p>
				<div class="modal-message" id="modalMessage">메일 상세 내용</div>
			</div>
		</div>
	</div>
</body>
</html>